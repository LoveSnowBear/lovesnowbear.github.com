package sample.scene.upload.simpleUpload;import java.io.File;import javax.servlet.http.HttpServletRequest;import com.bstek.dorado.common.DoradoContext;import com.bstek.dorado.common.HttpDoradoContext;import com.bstek.dorado.data.Dataset;import com.bstek.dorado.data.ParameterSet;import com.bstek.dorado.view.DefaultViewModel;/** * UploadViewModel */public class UploadDemoViewModel extends DefaultViewModel {	/**	 * 移除文件的远程方法	 * @param parameters 传入参数	 * @param outParameters 传出参数	 * @throws Exception 默认不抛出异常	 */	public void removeFile(ParameterSet parameters, ParameterSet outParameters)			throws Exception {		String filePath = (String) parameters.getValue("filePath");		HttpDoradoContext context = (HttpDoradoContext) DoradoContext				.getContext();		HttpServletRequest request = context.getRequest();		String webappPath = request.getSession().getServletContext()				.getRealPath("/");		if (!filePath.equals("")) {			File file = new File(webappPath + filePath);			if (file.exists()){				//同时删除存储的路径、文件名记录				UploadController.filePath = null;				UploadController.fileName = null;				file.delete();			}		}	}			/* (non-Javadoc)	 * @see com.bstek.dorado.view.ViewModelSupport#doLoadData()	 */	public void doLoadData() throws Exception {		Dataset dsFiles = getDataset("dsFiles");		dsFiles.insertRecord();		dsFiles.setValue("fileName", UploadController.fileName);		dsFiles.setValue("path", UploadController.filePath);		super.doLoadData();	}}